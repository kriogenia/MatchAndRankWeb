(this.webpackJsonpmatchnrank=this.webpackJsonpmatchnrank||[]).push([[0],{110:function(e,t,a){e.exports=a(128)},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),l=a(53),o=a(11),s=a(96),u=a(192),m={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},d=a(37),p=a(70),f=a(162),h={palette:{primary:{light:"#fa5788",main:p.a[700],dark:"#8c0032",contrastText:"#fff"},secondary:{light:"#62efff",main:f.a[500],dark:"#008ba3",contrastText:"#000"},type:"dark"}},b=function(){var e=Object(n.useState)(h),t=Object(o.a)(e,2),a=t[0],r=t[1],c=a.palette.type;return[a,function(){var e=Object(d.a)(Object(d.a)({},a),{},{palette:Object(d.a)(Object(d.a)({},a.palette),{},{type:"light"===c?"dark":"light"})});r(e)}]},E=a(39),g=a(14),v=a(98),O=a(181),j=a(166),y=a(41),k=a(163),x=Object(k.a)((function(){return{link:{textDecoration:"none"},finishButton:{width:"100%",margin:"10px 0"}}})),w=a(195),C=function(e){var t=e.system,a=Object(n.useState)(),c=Object(o.a)(a,2),i=c[0],l=c[1],s=Object(w.a)().t,u=x();return Object(n.useEffect)((function(){var e=t.getResults().map((function(e){return{name:e.name,points:e.points}}));l(e)}),[t]),r.a.createElement(E.b,{className:u.link,to:{pathname:"/results",results:i}},r.a.createElement(j.a,{variant:"contained",color:"primary",size:"large",className:u.finishButton},r.a.createElement(y.a,{variant:"h5"},s("option.finish"))))},S=a(167),M=Object(k.a)((function(){return{desktopButton:{width:"45%",margin:"0 2.5%",overflowWrap:"anywhere"},mobileButton:{width:"100%",margin:"10px 0",overflowWrap:"anywhere"}}})),N=a(25),L=function(e){var t=e.color,a=e.finished,n=e.onClick,c=e.children,i=Object(S.a)(Object(N.a)().breakpoints.up("sm")),l=M();return r.a.createElement(j.a,{variant:"contained",color:t,size:"large",disabled:a,className:i?l.desktopButton:l.mobileButton,onClick:n},r.a.createElement("div",null,r.a.createElement(y.a,{variant:"h5"},c)))},B=a(45),R=a(46),T=function(){function e(t){Object(B.a)(this,e),this.name=t,this.points=0,this.clashed=[],this.won=[]}return Object(R.a)(e,[{key:"findOpponent",value:function(e){for(var t=0;t<e.length;t++)if(!this.clashed.includes(e[t].name))return t;return-1}},{key:"getWins",value:function(e){var t=this;return e.reduce((function(e,a){return t.won.includes(a.name)?e+1:e}),0)}}]),e}(),A=a(33),P=function(){function e(t){Object(B.a)(this,e),this.entries=t.map((function(e){return new T(e.entry)})),this.candidates=Object(A.a)(this.entries)}return Object(R.a)(e,[{key:"nextRound",value:function(){var e=this;return this.candidates=Object(A.a)(this.entries).filter((function(t){return t.clashed.length<e.entries.length-1})),this.candidates.length>1?this.nextMatch():null}},{key:"nextMatch",value:function(){if(this.candidates.length>1){this.a=this.candidates.pop();var e=this.a.findOpponent(this.candidates);return-1===e?this.nextMatch():(this.b=this.candidates[e],this.candidates.splice(e,1),this.a.clashed.push(this.b.name),this.b.clashed.push(this.a.name),{a:this.a,b:this.b,expected:this.getExpectedMatches()})}return this.nextRound()}},{key:"getExpectedMatches",value:function(){var e=0;return this.entries.map((function(){return e++})).reduce((function(e,t){return e+t}),0)}},{key:"voteLeft",value:function(){this.a.points++,this.a.won.push(this.b.name)}},{key:"voteRight",value:function(){this.b.points++,this.b.won.push(this.a.name)}},{key:"getResults",value:function(){for(var e=this,t=[],a=this.entries.sort((function(e,t){return t.points-e.points})),n=function(){var n=a[0].points,r=a.filter((function(e){return e.points===n}));a=a.filter((function(e){return e.points!==n})),t=[].concat(Object(A.a)(t),Object(A.a)(e.decideDraw(r)))};a.length>0;)n();return t}},{key:"decideDraw",value:function(e){if(1===e.length)return e;var t=new Map(e.map((function(t){return[t.name,t.getWins(e)]})));return e.sort((function(e,a){return t[a.name]-t[e.name]}))}}]),e}(),_=function(e,t){return"f"===e?new P(t):null},D=Object(k.a)((function(){return{link:{textDecoration:"none"},startButton:{width:"100%",margin:"10px 0"},subtitle:{textTransform:"initial"}}})),W=function(e){var t=e.list,a=e.systemCode,n=_(a,t),c=Object(w.a)().t,i=D();return r.a.createElement(E.b,{className:i.link,to:{pathname:"/match",system:n}},r.a.createElement(j.a,{variant:"contained",color:"primary",size:"large",className:i.startButton,disabled:t.length<3},r.a.createElement("div",null,r.a.createElement(y.a,{variant:"h5"},c("option.start")),t.length>=3?r.a.createElement(y.a,{variant:"subtitle1",className:i.subtitle},"".concat(c("alert.expected_matches"),": ").concat(n.getExpectedMatches())):r.a.createElement(y.a,{variant:"subtitle1",className:i.subtitle},c("alert.min_entries")))))},z=a(196),I=function(e){var t=e.children,a=e.onClick,n=e.tooltip,c=Object(w.a)().t;return r.a.createElement(z.a,{title:c("tooltip.".concat(n))},r.a.createElement(j.a,{color:"inherit",onClick:a},t))},q=a(170),F=a(171),H=a(172),J=a(173),V=a(174),G=function(e){var t=e.text,a=e.onClose,n=e.open,c=Object(w.a)().t,i=function(e){a(e)};return r.a.createElement(q.a,{open:n,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.a,{id:"alert-dialog-title"},c("alert.confirm")),r.a.createElement(H.a,null,r.a.createElement(J.a,{id:"alert-dialog-description"},t)),r.a.createElement(V.a,null,r.a.createElement(j.a,{onClick:function(){return i(!0)},color:"secondary"},c("option.yes")),r.a.createElement(j.a,{onClick:function(){return i(!1)},color:"secondary",autoFocus:!0},c("option.no"))))},K=function(e){var t=e.children,a=e.open,n=e.onClose,c=Object(w.a)().t;return r.a.createElement(q.a,{open:a,onClose:function(){return n()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(F.a,{id:"alert-dialog-title"},c("alert.warning")),r.a.createElement(H.a,null,r.a.createElement(J.a,{id:"alert-dialog-description"},t)),r.a.createElement(V.a,null,r.a.createElement(j.a,{onClick:function(){return n()},color:"secondary"},c("option.close"))))},Q=a(79),U=a(97),X=a(94),Y=a(50);Q.a.use(U.a).use(X.a).use(Y.f).init({fallbackLng:"en",ns:["translation","error"],debug:!0,saveMissing:!0,backend:{loadPath:"/MatchAndRankWeb/locales/{{lng}}/{{ns}}.json",addPath:"/MatchAndRankWeb/locales/{{lng}}/add/{{ns}}.missing.json",allowMultiLoading:!0},interpolation:{escapeValue:!1}});var Z=Q.a,$=a(169),ee=a(168),te=a(99),ae=a(175),ne=a(176),re=a(177),ce=Object(k.a)((function(){return{uppercase:{textTransform:"uppercase"}}})),ie=["en","es","gl"],le=function(){var e=r.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!0),i=Object(o.a)(c,2),s=i[0],u=i[1],d=r.a.useState(1),p=Object(o.a)(d,2),f=p[0],h=p[1],b=Object(w.a)().t,E=r.a.useRef(null),g=ce(),v=function(e,t){u(!1),h(t),n(!1),Z.changeLanguage(ie[t]).then((function(){u(!0)})).catch((function(){var e;e=b("error:language_change"),l.b.error(e,m),u(!0)}))},O=function(e){E.current&&E.current.contains(e.target)||n(!1)};return r.a.createElement("div",null,r.a.createElement(j.a,{color:"inherit",onClick:function(){n((function(e){return!e}))},ref:E},ie[f]),r.a.createElement($.a,{open:a,anchorEl:E.current,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(ee.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(te.a,null,r.a.createElement(ae.a,{onClickAway:O},r.a.createElement(ne.a,{id:"split-button-menu"},ie.map((function(e,t){return r.a.createElement(re.a,{key:e,className:g.uppercase,selected:t===f,disabled:!s,onClick:function(e){return v(0,t)}},e)}))))))})))},oe=a(178),se=a(179),ue=a(180),me=Object(k.a)((function(){return{marginTop:{margin:"10px 0 0 0"}}})),de=function(e){var t=e.list,a=e.setList,n=r.a.useState(!1),c=Object(o.a)(n,2),i=c[0],l=c[1],s=Object(w.a)().t,u=me(),m=[{name:"import",action:function(){},condition:!0,icon:r.a.createElement(oe.a,null)},{name:"templates",action:function(){},condition:!0,icon:r.a.createElement(se.a,null)},{name:"clear",action:function(){l(!0)},condition:0===t.length,icon:r.a.createElement(ue.a,null)}];return r.a.createElement("div",{className:u.marginTop},r.a.createElement(G,{open:i,onClose:function(e){e&&a([]),l(!1)}}),r.a.createElement(O.a,{container:!0,spacing:1},m.map((function(e){return r.a.createElement(O.a,{item:!0,xs:!0,container:!0,justify:"center",key:e.name},r.a.createElement(z.a,{title:s("tooltip.".concat(e.name))},r.a.createElement("span",null,r.a.createElement(j.a,{color:"secondary",variant:"contained",disabled:e.condition,onClick:e.action},e.icon,s("option.".concat(e.name))))))}))))},pe=function(e){var t=e.match,a=e.finished,n=e.vote;return r.a.createElement("div",null,r.a.createElement(L,{color:"primary",finished:a,onClick:function(){return n("a")}},t.a.name),r.a.createElement(L,{color:"secondary",finished:a,onClick:function(){return n("b")}},t.b.name))},fe=a(182),he=a(197),be="free4all",Ee=!1,ge=function(e){var t=e.setSystem,a=Object(n.useState)(be),c=Object(o.a)(a,2),i=c[0],l=c[1],s=Object(n.useState)(Ee),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(w.a)().t;Object(n.useEffect)((function(){t("".concat("free4all"===i?"f":"q").concat(m?"d":""))}),[i,m,t]);var f=function(e){be=e.currentTarget.name,l(be)};return r.a.createElement(te.a,null,r.a.createElement(O.a,{container:!0,spacing:1},r.a.createElement(O.a,{item:!0,xs:!0,container:!0,justify:"center",alignItems:"center"},["free4all","quick"].map((function(e){return r.a.createElement(z.a,{title:p("tooltip.".concat(e))},r.a.createElement(j.a,{color:"primary",variant:i===e?"contained":"outlined",disabled:!0,onClick:f,name:e,key:e},p("option.".concat(e))))}))),r.a.createElement(O.a,{item:!0,xs:!0,container:!0,justify:"center"},r.a.createElement(fe.a,{control:r.a.createElement(he.a,{checked:m,onChange:function(){d(Ee=!m)},disabled:!0,name:"drawSwitch"}),label:p("option.draw")}))))},ve=a(194),Oe=a(132),je=a(133),ye=a(185),ke=a(186),xe=a(183),we=a(184),Ce=a(187),Se=Object(k.a)((function(){return{paper:{margin:"10px 0",padding:20},form:{display:"flex",alignItems:"baseline",justifyContent:"space-evenly"},textfield:{width:"75%"}}})),Me=function(e){var t=e.list,a=e.setList,n=r.a.useState(""),c=Object(o.a)(n,2),i=c[0],l=c[1],s=r.a.useState(!1),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(w.a)().t,f=Object(S.a)(Object(N.a)().breakpoints.up("sm")),h=Se(),b=0;return r.a.createElement(te.a,{className:h.paper},r.a.createElement(K,{open:m,onClose:function(){return d(!1)}},p("alert.repeated_entry")),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),i)if(t.map((function(e){return e.entry})).includes(i))d(!0);else{var n=i;l(""),a([].concat(Object(A.a)(t),[{id:Date.now(),entry:n}]))}},className:h.form},r.a.createElement(ve.a,{name:"input",label:"Add",value:i,onChange:function(e){var t=e.target.value;l(t)},margin:"normal",className:h.textfield}),r.a.createElement(j.a,{color:"primary",variant:"contained",type:"submit"},r.a.createElement(we.a,null),f?p("option.add"):null)),r.a.createElement(Oe.a,null,t.map((function(e){var t=e.id,n=e.entry;return r.a.createElement(je.a,{key:t},r.a.createElement(ye.a,{primary:"".concat(++b,". ").concat(n)}),r.a.createElement(ke.a,null,r.a.createElement(xe.a,{color:"primary",onClick:function(){return function(e){return a((function(t){return t.filter((function(t){return t.id!==e}))}))}(t)}},r.a.createElement(Ce.a,null))))}))))},Ne=Object(k.a)((function(){return{paper:{margin:"10px 0",padding:20},entry:{boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2)"}}})),Le=function(e){var t=e.results,a=Ne(),n=0;return r.a.createElement(te.a,{className:a.paper},r.a.createElement(Oe.a,null,t.map((function(e){var t=e.name;return r.a.createElement(je.a,{key:t},r.a.createElement(ye.a,{primary:"".concat(++n,". ").concat(t),className:a.entry,primaryTypographyProps:{color:n%2===0?"secondary":"primary",variant:"h6"}}))}))))},Be=a(131),Re=a(188),Te=function(){return r.a.createElement(Be.a,{open:!0},r.a.createElement(Re.a,{color:"inherit"}))},Ae=a(189),Pe=Object(k.a)((function(){return{bar:{margin:"20px 0 0 0"}}})),_e=function(e){var t=e.counter,a=e.expected,n=Pe();return r.a.createElement(Ae.a,{variant:"determinate",className:n.bar,value:Math.min((t-1)/a*100,100)})},De=Object(k.a)((function(){return{text:{textAlign:"center",margin:"50px 0 20px 0"}}})),We=function(e){var t=e.counter,a=e.finished,n=Object(w.a)().t,c=De();return r.a.createElement(y.a,{variant:"h3",className:c.text},a?n("title.matches_completed"):"".concat(n("title.match_counter")).concat(t))},ze=a(190),Ie=a(191),qe=a(95),Fe=a.n(qe),He=Object(k.a)((function(){return{widthAll:{width:"100%"}}})),Je=function(e){var t=e.toggleLightMode,a=He();return r.a.createElement(ze.a,{position:"static"},r.a.createElement(Ie.a,null,r.a.createElement(y.a,{variant:"h6",className:a.widthAll},"Match'n'Rank"),r.a.createElement(I,{onClick:t,tooltip:"light_mode"},r.a.createElement(Fe.a,null)),r.a.createElement(le,null)))},Ve=function(e){var t=e.component,a=e.toggleLightMode,n=Object(v.a)(e,["component","toggleLightMode"]);return r.a.createElement(g.a,Object.assign({},n,{component:function(e){var n=e.history,c=e.location,i=e.match;return r.a.createElement(O.a,{container:!0,direction:"column"},r.a.createElement(Je,{toggleLightMode:a}),r.a.createElement(t,{history:n,location:c,match:i}))}}))},Ge=function(e){var t=e.location,a=Object(n.useState)(1),c=Object(o.a)(a,2),i=c[0],l=c[1],s=Object(n.useState)(1),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(),f=Object(o.a)(p,2),h=f[0],b=f[1],E=Object(n.useState)(!1),g=Object(o.a)(E,2),v=g[0],j=g[1],y=t.system;Object(n.useEffect)((function(){var e=y.nextMatch();null==e?j(!0):(b(e),d(e.expected))}),[i,y]);return r.a.createElement(O.a,{item:!0,container:!0,direction:"row"},r.a.createElement(O.a,{item:!0,md:12,lg:4}),r.a.createElement(O.a,{item:!0,xs:12,lg:4},r.a.createElement(We,{counter:i,finished:v}),h&&r.a.createElement(pe,{match:h,vote:function(e){"a"===e?y.voteLeft():y.voteRight(),l(i+1)},finished:v}),v?r.a.createElement(C,{system:y}):r.a.createElement(_e,{counter:i,expected:m})),r.a.createElement(O.a,{item:!0,md:12,lg:4}))},Ke=function(e){var t=e.location.results;return r.a.createElement(O.a,{item:!0,container:!0,direction:"row"},r.a.createElement(O.a,{item:!0,md:12,lg:4}),r.a.createElement(O.a,{item:!0,xs:12,lg:4},r.a.createElement(Le,{results:t})),r.a.createElement(O.a,{item:!0,md:12,lg:4}))},Qe=[],Ue="s",Xe=function(){var e=Object(n.useState)(Qe),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(Ue),l=Object(o.a)(i,2),s=l[0],u=l[1];return Object(n.useEffect)((function(){Qe=Object(A.a)(a),Ue=s}),[a,s]),r.a.createElement(O.a,{item:!0,container:!0,direction:"row"},r.a.createElement(O.a,{item:!0,md:12,lg:4}),r.a.createElement(O.a,{item:!0,xs:12,lg:4},r.a.createElement(de,{list:a,setList:c}),r.a.createElement(Me,{list:a,setList:c}),r.a.createElement(ge,{setSystem:u}),r.a.createElement(W,{list:a,systemCode:s})),r.a.createElement(O.a,{item:!0,md:12,lg:4}))},Ye=function(e){return r.a.createElement(E.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(g.c,null,r.a.createElement(Ve,Object.assign({},e,{component:Xe,path:"/",exact:!0})),r.a.createElement(Ve,Object.assign({},e,{component:Ge,path:"/match",exact:!0})),r.a.createElement(Ve,Object.assign({},e,{component:Ke,path:"/results",exact:!0})))))},Ze=a(193),$e=function(){var e=b(),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.a)(a);return n.createElement(u.a,{theme:c},n.createElement(Ze.a,null),n.createElement(n.Suspense,{fallback:n.createElement(Te,null)},n.createElement(Ye,{toggleLightMode:r})))};a(126),a(127);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($e,null),r.a.createElement(l.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0})),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.6b1f2632.chunk.js.map